---
- name: "{{ ansible_facts['distribution'] }} | Install Neovim"
  community.general.pacman:
    name:
      - neovim
    state: present
  become: true

- name: "{{ ansible_facts['distribution'] }} | Set Neovim as default editor in /etc/environment"
  ansible.builtin.lineinfile:
    path: /etc/environment
    line: "{{ item }}"
    create: yes
    mode: '0644'
  become: true
  loop:
    - "EDITOR=nvim"
    - "VISUAL=nvim"